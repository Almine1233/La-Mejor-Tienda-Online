<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin - Gestionar Productos</title>
  <link rel="stylesheet" href="style.css">
  <style>.panel{max-width:900px;margin:20px auto;background:#fff;padding:18px;border-radius:8px} input,textarea{width:100%;padding:8px;margin:8px 0;border-radius:6px;border:1px solid #ccc}</style>
</head>
<body>
  <div class="panel">
    <h2>Panel Admin (local)</h2>
    <form id="f">
      <input id="n" placeholder="Nombre" required>
      <input id="pr" type="number" placeholder="Precio" required>
      <input id="cat" placeholder="Categoría" required>
      <input id="img" placeholder="URL imagen (ej: https://...)" required>
      <textarea id="desc" placeholder="Descripción"></textarea>
      <button type="submit" class="btn primary">Añadir producto</button>
    </form>
    <h3>Productos actuales (localStorage)</h3>
    <div id="lista-admin"></div>
    <p>Nota: esto guarda en localStorage. La tienda carga productos generados en productos.js por defecto.</p>
  </div>
<script>
let adminProducts = JSON.parse(localStorage.getItem('admin_products')) || [];
const listaAdmin = document.getElementById('lista-admin');
function renderAdmin(){ listaAdmin.innerHTML=''; adminProducts.forEach((p,i)=>{ const d=document.createElement('div'); d.style.border='1px solid #eee'; d.style.padding='8px'; d.style.margin='6px 0'; d.innerHTML=`<b>${p.nombre}</b> — ${p.categoria} — ${p.precio} € <button onclick="borrar(${i})">Eliminar</button>`; listaAdmin.appendChild(d); }); }
function guardar(){ localStorage.setItem('admin_products', JSON.stringify(adminProducts)); renderAdmin(); alert('Guardado en localStorage. Recarga index.html para ver cambios si adaptas main.js'); }
document.getElementById('f').addEventListener('submit', e=>{ e.preventDefault(); adminProducts.push({ id:Date.now(), nombre:document.getElementById('n').value, precio:Number(document.getElementById('pr').value), categoria:document.getElementById('cat').value, imagen:document.getElementById('img').value, descripcion:document.getElementById('desc').value }); guardar(); e.target.reset(); });
function borrar(i){ adminProducts.splice(i,1); guardar(); }
renderAdmin();
</script>
</body>
</html>
