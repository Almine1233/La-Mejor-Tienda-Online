<!doctype html>
<html lang="es">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Carrito</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header class="header"><div style="padding:12px 20px">Carrito — <a href="index.html">Seguir comprando</a></div></header>
<main style="max-width:900px;margin:20px auto;padding:12px">
  <div id="cart-items"></div>
  <div style="margin-top:12px">
    <button onclick="location.href='comprar.html'" class="btn primary">Finalizar compra</button>
  </div>
</main>
<script>
  const cart = JSON.parse(localStorage.getItem('cart_v1')||'[]');
  const el = document.getElementById('cart-items');
  if(!cart.length) el.innerHTML = '<p>Tu carrito está vacío.</p>';
  else {
    let total = 0;
    cart.forEach((it,idx)=>{
      total += it.precio*(it.cantidad||1);
      el.innerHTML += `<div style="display:flex;gap:12px;align-items:center;padding:8px 0;border-bottom:1px solid rgba(0,0,0,0.06)"><img src="${it.imagen}" style="width:80px;height:60px;object-fit:cover;border-radius:6px"><div style="flex:1"><div style="font-weight:700">${it.nombre}</div><div>${it.cantidad} x ${it.precio.toFixed(2)} €</div></div><div>${(it.precio*(it.cantidad||1)).toFixed(2)} €</div></div>`;
    });
    el.innerHTML += `<div style="text-align:right;font-weight:800;margin-top:12px">Total: ${total.toFixed(2)} €</div>`;
  }
</script>
</body>
</html>
