<!doctype html><html lang="es"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Finalizar compra</title><link rel="stylesheet" href="style.css"></head><body>
<header class="topbar"><div class="logo">Finalizar compra</div></header>
<main style="max-width:900px;margin:24px auto;background:#fff;padding:18px;border-radius:12px">
  <div id="resumen"></div>
  <form id="form">
    <label>Nombre completo</label><input id="nombre" required>
    <label>Email</label><input id="email" type="email" required>
    <label>Dirección</label><textarea id="direccion" rows="3" required></textarea>
    <label>Teléfono</label><input id="telefono" required>
    <p style="color:#6b7780">Método de pago: próximamente</p>
    <button type="submit" class="btn primary">Confirmar pedido</button>
  </form>
</main>
<script>
  const cart = JSON.parse(localStorage.getItem('cart_v1')) || [];
  const resumen = document.getElementById('resumen');
  let total = 0;
  if(!cart.length) resumen.innerHTML = '<p>No hay artículos en el carrito. <a href="index.html">Volver</a></p>';
  else{
    const ul=document.createElement('ul');
    cart.forEach(p=>{ const li=document.createElement('li'); li.textContent=`${p.nombre} - ${p.precio} € x${p.cantidad||1}`; ul.appendChild(li); total+=p.precio*(p.cantidad||1);});
    resumen.appendChild(ul);
    const t=document.createElement('p'); t.style.fontWeight='800'; t.textContent='Total: '+total.toFixed(2)+' €'; resumen.appendChild(t);
  }
  document.getElementById('form').addEventListener('submit', e=>{
    e.preventDefault();
    alert('✅ Pedido confirmado. Gracias! (simulado)');
    localStorage.removeItem('cart_v1');
    window.location.href='index.html';
  });
</script>
</body></html>
